<Window x:Class="WpfRaziLedgerApp.DeskWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent" 
        ShowInTaskbar="False" Topmost="True"
        WindowStartupLocation="CenterScreen"
        KeyDown="Window_KeyDown"
        MouseDown="Window_MouseDown"
        Width="{Binding Source={x:Static SystemParameters.PrimaryScreenWidth}}"
        Height="{Binding Source={x:Static SystemParameters.PrimaryScreenHeight}}">

    <Window.Resources>
        <!-- باز شدن میز (Scale + Opacity) -->
        <Storyboard x:Key="OpenDeskStoryboard">
            <DoubleAnimation Storyboard.TargetName="DeskContainer"
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                             From="0" To="1" Duration="0:0:0.35" />
            <DoubleAnimation Storyboard.TargetName="DeskContainer"
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                             From="0" To="1" Duration="0:0:0.35" />
            <DoubleAnimation Storyboard.TargetName="DeskContainer"
                             Storyboard.TargetProperty="Opacity"
                             From="0" To="1" Duration="0:0:0.25"/>
        </Storyboard>

        <!-- بسته شدن میز -->
        <Storyboard x:Key="CloseDeskStoryboard">
            <DoubleAnimation Storyboard.TargetName="DeskContainer"
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                             From="1" To="0" Duration="0:0:0.35" />
            <DoubleAnimation Storyboard.TargetName="DeskContainer"
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                             From="1" To="0" Duration="0:0:0.35" />
            <DoubleAnimation Storyboard.TargetName="DeskContainer"
                             Storyboard.TargetProperty="Opacity"
                             From="1" To="0" Duration="0:0:0.25"/>
        </Storyboard>
    </Window.Resources>

    <Grid Background="#80000000">
        <!-- ظرف اصلی میز -->
        <Grid x:Name="DeskContainer" Opacity="0"
              RenderTransformOrigin="0.5,0.5">
            <Grid.RenderTransform>
                <ScaleTransform ScaleX="0" ScaleY="0"/>
            </Grid.RenderTransform>

            <Border x:Name="DeskBorder" BorderThickness="1" BorderBrush="#FF242440"
                    Width="576" Height="383"
                    HorizontalAlignment="Center" VerticalAlignment="Center">
                <Grid>
                    <!-- تصویر میز -->
                    <Image x:Name="DeskImage"
                           Source="pack://application:,,,/Images/Miz.png"
                           Stretch="Uniform"
                           Panel.ZIndex="0"/>

                    <!-- شبکه آیکون‌ها -->
                    <Grid x:Name="DeskGrid" Margin="10" Panel.ZIndex="1" FlowDirection="RightToLeft">
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                    </Grid>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>
